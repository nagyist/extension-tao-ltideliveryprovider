define("ltiDeliveryProvider/controller/DeliveryTool/launchQueue",["lodash","module","core/polling","core/request"],function(_,module,polling,request){"use strict";const _defaultConfig={relaunchInterval:30};return{start(){const{relaunchConfig={}}=module.config(),{capacityCheckUrl,relaunchInterval,runUrl}=_.defaults(relaunchConfig,_defaultConfig);polling({action:function(){const async=this.async();request({url:capacityCheckUrl,method:"GET",dataType:"json",noToken:!0}).then(_ref=>{let{status}=_ref;1==status?(async.reject(),window.location=runUrl):async.resolve()}).catch(()=>{async.resolve()})},interval:1e3*relaunchInterval,autoStart:!0})}}}),define("ltiDeliveryProvider/controller/routes",{DeliveryTool:{actions:{launchQueue:"controller/DeliveryTool/launchQueue"}}}),define("ltiDeliveryProvider/loader/ltiDeliveryProvider.bundle",function(){});
//# sourceMappingURL=ltiDeliveryProvider.min.js.map